<%= form_with(model: despacho) do |form| %>
  <% if despacho.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(despacho.errors.count, "error") %> prohibited this despacho from being saved:</h2>
      <ul>
        <% despacho.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Seleção do Armeiro -->
  <div class="field">
    <%= form.label :armeiro_id, "Armeiro", style: "display: block", class: "field-text" %>
    <%= form.select :armeiro_id, @armeiros.map { |armeiro| [armeiro.nome_completo, armeiro.id] }, { prompt: "Selecione um armeiro" }, class: "input-centralizado" %>
  </div>

  <!-- Seleção da Matrícula do Armeiro -->
  <div class="field">
    <%= form.label :matricula_armeiro, "Matrícula do Armeiro", style: "display: block", class: "field-text" %>
    <%= form.select :matricula_armeiro, @armeiros.map { |armeiro| [armeiro.nome_completo, armeiro.matricula] }, { prompt: "Selecione a matrícula do armeiro" }, class: "input-centralizado" %>
  </div>

  <!-- Seleção do Guarda -->
  <div class="field">
    <%= form.label :guarda_id, "Guarda", style: "display: block", class: "field-text" %>
    <%= form.select :guarda_id, @guardas.map { |guarda| [guarda.nome_completo, guarda.id] }, { prompt: "Selecione um guarda" }, class: "input-centralizado" %>
  </div>

  <!-- Seleção do Porte do Guarda -->
  <div class="field">
    <%= form.label :porte_guarda, "Porte do Guarda", style: "display: block", class: "field-text" %>
    <%= form.select :porte_guarda, @guardas.map { |guarda| [guarda.nome_completo, guarda.porte_arma] }, { prompt: "Selecione o porte do guarda" }, class: "input-centralizado" %>
  </div>

  <!-- Seleção da Matrícula do Guarda -->
  <div class ="field">
    <%= form.label :matricula_guarda, "Matrícula do Guarda", style: "display: block", class:"field-text" %>
    <%= form.select :matricula_guarda, @guardas.map { |guarda| [guarda.nome_completo, guarda.matricula] }, { prompt: "Selecione a matrícula do guarda" }, class: "input-centralizado" %>
  </div>

  <!-- Seleção da Arma -->
  <div class="field">
    <%= form.label :arma_id, "Arma", style: "display: block", class: "field-text" %>
    <div class="dropdown-wrapper">
      <%= form.collection_select :arma_id, @armas, :id, :modelo, { prompt: "Selecione uma arma" }, { class: "input-centralizado" } %>
    </div>
  </div>

  <!-- Tipo da Transação -->
  <div class="field">
    <%= form.label :tipo, "Tipo da Transação", style: "display: block", class: "field-text" %>
    <div class="dropdown-wrapper">
      <%= form.select :tipo, [["Entrada", "Entrada"], ["Saída", "Saída"]], { prompt: "Selecione o tipo" }, { class: "input-centralizado" } %>
    </div>
  </div>

  <!-- Outros Campos -->
  <div class="field">
    <%= form.label :quantidade_balas, "Quantidade de Balas", style: "display: block", class: "field-text" %>
    <%= form.number_field :quantidade_balas, class: "input-centralizado" %>
  </div>
  <div>
    <%= form.label :calibre, "Calibre", style: "display: block", class:"field-text" %>
    <%= form.text_field :calibre, class: "input-centralizado" %>
  </div>
  <div>
    <%= form.label :quantidade_carregadores, "Quantidade de Carregadores", style: "display: block", class:"field-text" %>
    <%= form.number_field :quantidade_carregadores, class: "input-centralizado" %>
  </div>
  <div>
    <%= form.label :justificativa, "Justificativa", style: "display: block", class:"field-text" %>
    <%= form.text_area :justificativa, class: "input-centralizado" %>
  </div>

  <div class ="actions">
    <%= form.submit "Criar despacho", class: "button" %>
  </div>
<% end %>
